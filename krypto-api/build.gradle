apply plugin: 'java'
apply plugin: 'eclipse'

apply from: "http://api.krypt.int/gradle/kryptnostic.gradle"

task GenerateJniHeaders(description: 'Generate the JNI headers for kryptnostic engine') {
    ext.cp = sourceSets.main.output.classesDir
    ext.resourcesOut = "../krypto-lib/src/main/cpp/"
    //sourceSets.main.output.resourcesDir
    ext.cl = "com.kryptnostic.krypto.engine.KryptnosticEngine"
    exec {
        commandLine "javah", "-jni", "-d", "${resourcesOut}", "-classpath", "${cp}", "${cl}"
    }

    dependsOn classes
}
