apply plugin: 'java'
apply plugin: 'eclipse'

task GenerateJniHeaders(description: 'Generate the JNI headers for kryptnostic engine', dependsOn: 'classes') << {
    ext.cp = sourceSets.main.output.classesDir
    ext.resourcesOut = "../krypto-lib/src/main/cpp/"
    //sourceSets.main.output.resourcesDir
    ext.cl = "com.kryptnostic.krypto.engine.KryptnosticEngine"
    exec {
        commandLine "javah", "-jni", "-d", "${resourcesOut}", "-classpath", "${cp}", "${cl}"
    }
}

jar.dependsOn(':copyBinariesToApi')
